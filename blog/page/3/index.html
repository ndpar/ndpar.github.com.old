
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Side Notes</title>
  <meta name="author" content="Andrey Paramonov">

  
  <meta name="description" content="RabbitMQ is an open-source implementation of AMQP. If you don&rsquo;t know what AMQP is, I encourage you to read about it on the official web site or &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.ndpar.com/blog/page/3">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Side Notes" type="application/atom+xml">

  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>

  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6309596-5']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Side Notes</a></h1>
  
    <h2>never finished…</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.ndpar.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/03/14/get-started-with-rabbitmq/">Get Started With RabbitMQ</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-14T08:00:00-04:00" pubdate data-updated="true">Mar 14<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.rabbitmq.com">RabbitMQ</a> is an open-source implementation of <a href="http://en.wikipedia.org/wiki/AMQP">AMQP</a>. If you don&rsquo;t know what AMQP is, I encourage you to read about it on the official web site or the reference <a href="http://www.rabbitmq.com/how.html">page</a>. What <em>I</em> personally like in RabbitMQ/AMQP is</p>

<ul>
<li>AMQP is a free alternative to expensive TIBCO Randezvous.</li>
<li>Functionality-wise AMQP is a superset of JMS.</li>
<li>RabbitMQ is written in Erlang, which means fault-tolerance and reliability.</li>
</ul>


<p>In this short blog entry I show how to install RabbitMQ on a *nix box, and verify that it&rsquo;s working with a simple Groovy client.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2010/03/14/get-started-with-rabbitmq/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/02/23/get-started-with-ejabberd/">Get Started With Ejabberd</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-02-23T07:00:00-05:00" pubdate data-updated="true">Feb 23<span>rd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Installation</h2>

<p>Before installing ejabberd make sure you have Erlang environment set up. Run the following command and verify the output</p>

<pre><code>$ erl -version
Erlang (ASYNC_THREADS,HIPE) (BEAM) emulator version 5.10.1
</code></pre>

<p>I used to install ejabberd with apt-get command, which is convenient but always several versions behind. That&rsquo;s why I switched to building from sources. All scripts below should be run under <em>ejabberd</em> user.</p>

<p>First, create a directory where all ejabberd versions will be installed, if it does not exist yet</p>

<pre><code>$ sudo mkdir /opt/ejabberd
$ sudo chown -R ejabberd /opt/ejabberd
</code></pre>

<p>Download the sources</p>

<pre><code>$ git clone git@github.com:processone/ejabberd.git
$ cd ejabberd
</code></pre>

<p>Assuming we want to install version 2.1.x</p>

<pre><code>$ git checkout 2.1.x
$ cd src
$ ./configure --prefix=/opt/ejabberd/ejabberd-2.1.12 --enable-user=ejabberd
</code></pre>

<p>To see all available options, run <code>./configure --help</code>.</p>

<pre><code>$ make
$ make install
$ cd /opt/ejabberd
$ ln -s ejabberd-2.1.12 ejabberd
</code></pre>

<h2>Configuration</h2>

<p>Ejabberd comes with reasonable default configuration. Only two lines of configuration need to be changed to make it work in your environment. Open <em>/opt/ejabberd/ejabberd/etc/ejabberd/ejabberd.cfg</em> file and find <em>SERVED HOSTNAMES</em> section. By default Ejabberd listens to localhost only. Update this line with your machine&rsquo;s host names. I usually add the short name and the long name. You can find them by running <code>hostname -s</code> and <code>hostname -A</code> commands. Here is what I have in my config</p>

<figure class='code'><figcaption><span>/opt/ejabberd/ejabberd/etc/ejabberd/ejabberd.cfg </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="c">%%%&#39;   SERVED HOSTNAMES</span>
</span><span class='line'><span class="p">{</span><span class="n">hosts</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;localhost&quot;</span><span class="p">,</span> <span class="s">&quot;ubuntu&quot;</span><span class="p">,</span> <span class="s">&quot;jabber.ndpar.com&quot;</span><span class="p">]}.</span>
</span></code></pre></td></tr></table></div></figure>


<p>The second thing we need to do is to configure admin user. Here is mine</p>

<figure class='code'><figcaption><span>/opt/ejabberd/ejabberd/etc/ejabberd/ejabberd.cfg </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="c">%%%&#39;   ACCESS CONTROL LISTS</span>
</span><span class='line'><span class="p">{</span><span class="n">acl</span><span class="p">,</span> <span class="n">admin</span><span class="p">,</span> <span class="p">{</span><span class="n">user</span><span class="p">,</span> <span class="s">&quot;andrey&quot;</span><span class="p">,</span> <span class="s">&quot;jabber.ndpar.com&quot;</span><span class="p">}}.</span>
</span></code></pre></td></tr></table></div></figure>


<p>After these two changes are done, start the server</p>

<pre><code>$ cd /opt/ejabberd/ejabberd/sbin
$ ./ejabberdctl start
</code></pre>

<h2>Registering users</h2>

<p>The first (admin) user has to be registered in command line</p>

<pre><code>$ ./ejabberdctl register andrey jabber.ndpar.com ******
</code></pre>

<p>This user is the same as admin you configured in the previous section. If you go to <a href="http://localhost:5280/admin">localhost:5280/admin</a> in the browser, you should be able to login with the same password you registered the user</p>

<p><img class="center" src="/images/posts/ejabberd-web.png"></p>

<p>Now you are ready to add newly created account to your Jabber client. In Adium, for example, go to <em>File</em> &ndash;> <em>Add Acount</em> &ndash;> <em>Jabber</em> and provide server hostname/IP, JID and password.</p>

<p><img class="center" src="/images/posts/ejabberd-adium-1.png"></p>

<p><img class="center" src="/images/posts/ejabberd-adium-2.png"></p>

<p>To really enjoy IM you need more users on your server. The best part here is that you can create new users just from your Jabber client. You can actually do many things from the client, and you don&rsquo;t need to ssh to the remote server and run command for that. Just go to <em>File</em> &ndash;> <em>your ejabberd account</em>, and chose whatever you need from the menu</p>

<p><img class="center" src="/images/posts/ejabberd-admin-client.png"></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/05/26/entrepreneur/">To Be or Not to Be… Entrepreneur</a>
      </li>
    
      <li class="post">
        <a href="/2013/05/21/joe-armstrong-mostlyerlang/">Joe Armstrong at MostlyErlang</a>
      </li>
    
      <li class="post">
        <a href="/2013/05/09/liskov-programming-abstraction/">Stuck With Your First Programming Language</a>
      </li>
    
      <li class="post">
        <a href="/2013/03/09/simple-zookeeper-cluster/">Simple Zookeeper Cluster</a>
      </li>
    
      <li class="post">
        <a href="/2013/01/15/embrace-big-data/">Embrace Big Data</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Recent Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $(document).ready(function(){
      getTwitterFeed("ndpar", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Recent GitHub Updates</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ndpar',
            count: 3,
            skip_forks: false,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/categories/activemq/'>ActiveMQ (1)</a></li>
<li class='category'><a href='/categories/agile/'>Agile (1)</a></li>
<li class='category'><a href='/categories/art/'>Art (1)</a></li>
<li class='category'><a href='/categories/buzz/'>Buzz (2)</a></li>
<li class='category'><a href='/categories/clojure/'>Clojure (3)</a></li>
<li class='category'><a href='/categories/clustering/'>Clustering (1)</a></li>
<li class='category'><a href='/categories/conference/'>Conference (1)</a></li>
<li class='category'><a href='/categories/craftsmanship/'>Craftsmanship (1)</a></li>
<li class='category'><a href='/categories/education/'>Education (1)</a></li>
<li class='category'><a href='/categories/ejabberd/'>Ejabberd (1)</a></li>
<li class='category'><a href='/categories/entrepreneurship/'>Entrepreneurship (1)</a></li>
<li class='category'><a href='/categories/erlang/'>Erlang (2)</a></li>
<li class='category'><a href='/categories/functional-programming/'>Functional Programming (1)</a></li>
<li class='category'><a href='/categories/groovy/'>Groovy (6)</a></li>
<li class='category'><a href='/categories/humor/'>Humor (2)</a></li>
<li class='category'><a href='/categories/java/'>Java (2)</a></li>
<li class='category'><a href='/categories/lisp/'>Lisp (2)</a></li>
<li class='category'><a href='/categories/math/'>Math (4)</a></li>
<li class='category'><a href='/categories/mongodb/'>MongoDB (1)</a></li>
<li class='category'><a href='/categories/programming/'>Programming (5)</a></li>
<li class='category'><a href='/categories/python/'>Python (2)</a></li>
<li class='category'><a href='/categories/rabbitmq/'>RabbitMQ (2)</a></li>
<li class='category'><a href='/categories/solr/'>Solr (1)</a></li>
<li class='category'><a href='/categories/tutorial/'>Tutorial (1)</a></li>
<li class='category'><a href='/categories/zeromq/'>ZeroMQ (1)</a></li>
<li class='category'><a href='/categories/zookeeper/'>ZooKeeper (1)</a></li>

  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2010–2013 - Andrey Paramonov -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> -
  <span class="credit">Hosted by <a href="http://github.com">GitHub</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
